<!DOCTYPE html>
<html dir="rtl" lang="ar">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <link rel="canonical" href="https://example.com/login.html"/>
  <title>ุชุณุฌูู ุงูุฏุฎูู | ุนุณู ูุจู</title>
  <meta name="description" content="ุชุณุฌูู ุงูุฏุฎูู ุฅูู ูุชุฌุฑ ุนุณู ูุจู."/>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap">
  <link rel="icon" href="favicon.svg">
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="enhance.css">
  <style>
    /* ุชุฎุตูุตุงุช ุจุณูุทุฉ ููุงุฌูุฉ ุชุณุฌูู ุงูุฏุฎูู */
    .auth-wrap{max-width:520px;margin-inline:auto}
    .auth-card{padding:1.25rem;border-radius:16px;border:1px solid #e5e7eb;background:var(--card)}
    .auth-head{display:flex;align-items:center;justify-content:space-between;gap:.5rem;margin-bottom:.75rem}
    .field{display:grid;gap:.4rem;margin:.65rem 0}
    .field .row{display:flex;gap:.5rem;align-items:center}
    .field .row > *{flex:1}
    .pwd-wrap{display:flex;gap:.5rem}
    .pwd-wrap input{flex:1}
    .hr{display:flex;align-items:center;gap:.75rem;margin:1rem 0}
    .hr::before,.hr::after{content:"";height:1px;background:#e5e7eb;flex:1}
    .social{display:grid;gap:.5rem}
    .social .btn{justify-content:center}
    .help{display:flex;justify-content:space-between;align-items:center;gap:.75rem;flex-wrap:wrap}
    .terms{font-size:.85rem;color:var(--muted)}
    .brand-mini{display:flex;align-items:center;gap:.5rem}
    .brand-mini img{width:36px;height:36px;border-radius:50%;object-fit:cover}
    .error{color:#dc2626}
  </style>
</head>
<body>
<header class="container header">
  <a class="brand" href="index.html">
    <img src="profile.jpg" alt="ุตูุฑุฉ ูุญูุฏ ูุจูู" loading="lazy" onerror="this.style.display='none'">
    <div>
      <h1>ูุญูุฏ ูุจูู ูุทู ุงูููุณูู</h1>
      <div class="kv"><span class="badge">ุตุงูุน ุงููุญุชูู</span><span class="muted">ุนุณู ูุจู ุทุจูุนู</span></div>
    </div>
  </a>
  <nav class="nav" aria-label="ูุงุฆูุฉ ุงููููุน">
  <a href="index.html">ุงูุฑุฆูุณูุฉ</a>
  <a href="products.html">ุงูููุชุฌุงุช</a>
  <a href="blog.html">ุงููุฏููุฉ</a>
  <a href="about.html">ูู ูุญู</a>
  <a href="contact.html">ุงุชุตู ุจูุง</a>
  <a href="cart.html">ุนุฑุจุฉ ุงูุชุณูู</a>
  <a href="login.html">ุชุณุฌูู ุงูุฏุฎูู</a>
</nav>

  <button id="theme-toggle" class="btn" aria-label="ุชุจุฏูู ุงููุถุน">๐</button>
</header>

<main class="container auth-wrap">
  <div class="brand-mini" style="margin-bottom:.5rem">
    <img src="favicon.svg" alt="">
    <div>
      <strong>ุชุณุฌูู ุงูุฏุฎูู ุฅูู ุนุณู ูุจู</strong><br>
      <span class="muted">ุงุฏุฎู ุจูุงูุงุชู ูููุชุงุจุนุฉ</span>
    </div>
  </div>

  <div class="auth-card">
    <div class="auth-head">
      <h2 style="margin:0">ูุฑุญุจุงู ุจู</h2>
      <a href="index.html" class="btn">ุงูุฑุฌูุน ูููุชุฌุฑ</a>
    </div>

    <form id="login-form" data-validate novalidate>
      <!-- ุญูุงูุฉ ุดูููุฉ: ุฑูุฒ CSRF ูููู ูููุซุงู -->
      <input type="hidden" name="csrf_token" id="csrf_token" value="">

      <div class="field">
        <label for="email">ุงูุจุฑูุฏ ุงูุฅููุชุฑููู</label>
        <input class="input" id="email" name="email" type="email" required placeholder="you@example.com" autocomplete="username">
      </div>

      <div class="field">
        <div class="help" style="margin:0">
          <label for="password" style="margin:0">ูููุฉ ุงููุฑูุฑ</label>
          <a href="reset.html" class="muted">ูุณูุช ูููุฉ ุงููุฑูุฑุ</a>
        </div>
        <div class="pwd-wrap">
          <input class="input" id="password" name="password" type="password" required placeholder="โขโขโขโขโขโขโขโข" minlength="6" autocomplete="current-password">
          <button type="button" class="btn" id="toggle-pwd" aria-controls="password" aria-pressed="false">ุฅุธูุงุฑ</button>
        </div>
      </div>

      <div class="field row" style="align-items:center">
        <label style="display:flex;align-items:center;gap:.5rem;cursor:pointer">
          <input type="checkbox" id="remember" name="remember"> ุชุฐูุฑูู
        </label>
        <a href="register.html" class="muted">ูุณุชุฎุฏู ุฌุฏูุฏุ ุฅูุดุงุก ุญุณุงุจ</a>
      </div>

      <button class="btn" type="submit" style="width:100%;justify-content:center">ุชุณุฌูู ุงูุฏุฎูู</button>

      <div class="hr"><span class="muted" style="white-space:nowrap">ุฃู</span></div>

      <div class="social">
        <button type="button" class="btn" id="btn-google" aria-label="ุชุณุฌูู ุงูุฏุฎูู ุนุจุฑ Google">ูุชุงุจุนุฉ ุนุจุฑ Google</button>
        <button type="button" class="btn" id="btn-apple" aria-label="ุชุณุฌูู ุงูุฏุฎูู ุนุจุฑ Apple">ูุชุงุจุนุฉ ุนุจุฑ Apple</button>
      </div>

      <p class="terms" style="margin-top:1rem">
        ุจุงูุฏุฎููุ ุฃูุช ุชูุงูู ุนูู ุงูุดุฑูุท ูุณูุงุณุฉ ุงูุฎุตูุตูุฉ.
      </p>

      <div id="login-output" class="form-output" role="status" aria-live="polite"></div>
    </form>
  </div>
</main>

<footer class="container">
  <div style="display:flex;justify-content:space-between;align-items:center;gap:12px;flex-wrap:wrap">
    <div>
      <strong>ูุญูุฏ ูุจูู ูุทู ุงูููุณูู</strong><br>
      ูุงุชู: <a href="tel:778919949">778919949</a> โข
      <a href="mailto:mohammedalyousifi185@gmail.com">mohammedalyousifi185@gmail.com</a>
    </div>
    <div class="muted">ูุณุฎุฉ ุชุฌุฑูุจูุฉ</div>
  </div>
</footer>

<!-- ุณูุฑุจุชุงุช ุนุงูุฉ -->
<script src="enhance.js"></script>

<!-- ุณูุฑุจุช ุฎุงุต ุจุงูุตูุญุฉ: ุชุจุฏูู ุฅุธูุงุฑ ูููุฉ ุงููุฑูุฑ + ุฅุฑุณุงู ุชุฌุฑูุจู -->
<script>
  document.addEventListener('DOMContentLoaded', () => {
    // ุชุนุจุฆุฉ CSRF ุชุฌุฑูุจูุงู
    const csrf = document.getElementById('csrf_token');
    if (csrf) csrf.value = (crypto.getRandomValues(new Uint32Array(1))[0]).toString(16);

    // ุฅุธูุงุฑ/ุฅุฎูุงุก ูููุฉ ุงููุฑูุฑ
    const pwd = document.getElementById('password');
    const tgl = document.getElementById('toggle-pwd');
    if (tgl && pwd) {
      tgl.addEventListener('click', () => {
        const isPwd = pwd.type === 'password';
        pwd.type = isPwd ? 'text' : 'password';
        tgl.textContent = isPwd ? 'ุฅุฎูุงุก' : 'ุฅุธูุงุฑ';
        tgl.setAttribute('aria-pressed', String(isPwd));
      });
    }

    // ุฅุฑุณุงู ุชุฌุฑูุจู (ุจุฏูู ุฎุงุฏู)
    const form = document.getElementById('login-form');
    const out  = document.getElementById('login-output');
    form.addEventListener('submit', (e) => {
      e.preventDefault();

      // ุชุญูู ูุฏูู ุฅุถุงูู ุจุณูุท
      const email = (document.getElementById('email').value || '').trim();
      const pass  = (pwd.value || '').trim();
      const ok = email && pass.length >= 6;

      if (!ok) {
        out.textContent = 'ุชุญูู ูู ุงูุจุฑูุฏ ููููุฉ ุงููุฑูุฑ (ูฆ ุฃุญุฑู ุนูู ุงูุฃูู).';
        out.classList.add('error');
        return;
      }

      // ูุญุงูุงุฉ ูุฌุงุญ
      out.classList.remove('error');
      out.textContent = 'ุชู ุชุณุฌูู ุงูุฏุฎูู ูุญููุงู. ุณููุนุงุฏ ุชูุฌูููโฆ';
      setTimeout(() => { window.location.href = 'index.html'; }, 800);
    });

    // ุฃุฒุฑุงุฑ ุงุฌุชูุงุนูุฉ ุดูููุฉ
    document.getElementById('btn-google')?.addEventListener('click', () => {
      alert('ุฒุฑ ุดูููู: ุงุฑุจุทู ุจูุฒููุฏ ุงููููุฉ ูุงุญูุงู.');
    });
    document.getElementById('btn-apple')?.addEventListener('click', () => {
      alert('ุฒุฑ ุดูููู: ุงุฑุจุทู ุจูุฒููุฏ ุงููููุฉ ูุงุญูุงู.');
    });
  });
</script>
</body>
</html>
